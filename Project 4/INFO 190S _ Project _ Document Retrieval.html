<!DOCTYPE html>
<!-- saved from url=(0086)https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- 2022-12-07 Wed 23:57 -->

<meta name="viewport" content="width=device-width, initial-scale=1">
<title>INFO 190S / Project / Document Retrieval</title>
<meta name="author" content="Tim Richards">
<meta name="generator" content="Org Mode">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
html,button,input,select,textarea {  color: #484C66;}html {  font-size: 90%;  line-height: 1.4;}*,*:before,*:after {  -moz-box-sizing: border-box;  -webkit-box-sizing: border-box;  box-sizing: border-box;}a {  white-space: pre;  white-space: pre-wrap;  white-space: pre-line;  white-space: -pre-wrap;  white-space: -o-pre-wrap;  white-space: -moz-pre-wrap;  white-space: -hp-pre-wrap;  word-wrap: break-word;  text-decoration: none;}a:hover {  color: #0A4C89;}/* * Remove text-shadow in selection highlight: h5bp.com/i * These selection rule sets have to be separate. * Customize the background color to match your design. */::-moz-selection {  background: #0A4C89;  color: #FFF;  text-shadow: none;}::selection {  background: #0A4C89;  color: #FFF;  text-shadow: none;}/* * A better looking default horizontal rule */hr {  display: block;  height: 1px;  border: 0;  border-top: 1px dashed #CCC;  margin: 1em 0;  padding: 0;}/* * Remove the gap between images, videos, audio and canvas and the bottom of * their containers: h5bp.com/i/440 */audio,canvas,img,video {  vertical-align: middle;}/* * Remove default fieldset styles. */fieldset {  border: 0;  margin: 0;  padding: 0;}/* * Allow only vertical resizing of textareas. */textarea {  resize: vertical;}/* ==========================================================================   Author's custom styles   ========================================================================== */.todo,.done,.tag {  font-family: "Source Pro", Monaco, "Courier New", monospace;  padding: 0 0.3em;  background-color: #EEE;  border: 1px solid #CCC;}.todo {  color: #DD4433;}.done {  color: #44934B;}.tag {  font-size: 80%;  font-weight: normal;  margin: 0 0.3em;  display: none;}.timestamp {  color: #BEBEBE;}.timestamp-kwd {  color: #5F9EA0;}.right {  margin-left: auto;  margin-right: 0px;  text-align: right;}.left {  margin-left: 0px;  margin-right: auto;  text-align: left;}.center {  margin-left: auto;  margin-right: auto;  text-align: center;}.underline {  text-decoration: underline;}#postamble p,#preamble p {  font-size: 90%;  margin: .2em;}pre,code {  font-family: "Source Pro", Monaco, "Courier New", monospace;  padding-left: 0.3em;  padding-right: 0.3em;}pre {  font-size: 90%;  padding: 8pt;  overflow: auto;  white-space: pre;  word-wrap: normal;}pre.src {  position: relative;}pre.src:before {  display: none;  position: absolute;  background-color: #FFF;  top: 0.5em;  right: 0.5em;  padding: 4px;  border: 1px solid #CCC;}pre.src-sh:before {  content: "Shell Script";}pre.src-bash:before {  content: "Bash Script";}pre.src-emacs-lisp:before {  content: "Emacs Lisp";}pre.src-R:before {  content: "R";}pre.src-perl:before {  content: "Perl";}pre.src-java:before {  content: "Java";}pre.src-sql:before {  content: "SQL";}pre.src-c:before {  content: "C";}pre.src-cpp:before {  content: "C++";}pre.src-html:before {  content: "HTML";}table {  border-collapse: collapse;  display: block;  overflow-x: auto;}caption.t-above {  caption-side: top;}caption.t-bottom {  caption-side: bottom;}td, th {  vertical-align: top;  border: 1px solid #CCC;  padding: 0.5em;}th.right {  text-align: center;}th.left {  text-align: center;}th.center {  text-align: center;}td.right {  text-align: right;}td.left {  text-align: left;}td.center {  text-align: center;}dt {  font-weight: bold;}#footnotes {  border-top: 5px solid #0A4C89;  margin-bottom: 5em;}#footnotes h2 {  display: none;}#text-footnotes {  margin-top: 1em;}.footpara:nth-child(2) {  display: inline;}.footpara {  display: block;}.footdef sup:before {  content: "[";}.footdef sup:after {  content: "]";}.footdef p {  display: inline;}figure {  margin: 0;}figure img {  max-width: 100%;}figcaption {  text-align: center;  font-size: 0.8rem;}.inlinetask {  padding: 10px;  border: 2px solid gray;  margin: 10px;  background: #ffffcc;}#org-div-home-and-up {  text-align: right;  font-size: 70%;  white-space: nowrap;}textarea {  overflow-x: auto;}.linenr {  font-size: smaller;}.code-highlighted {  background-color: #ffff00;}.org-info-js_info-navigation {  border-style: none;}#org-info-js_console-label {  font-size: 10px;  font-weight: bold;  white-space: nowrap;}.org-info-js_search-highlight {  background-color: #ffff00;  color: #000000;  font-weight: bold;}p.verse,blockquote {  margin: 0;  padding: 0;  padding-left: 3%;  border-left: 5px solid #0A4C89;}body {  font-family: Lora, Palatino, Georgia, serif;  width: 92%;  max-width: 1024px;  margin: 0 auto;  background-color: #FFF;}h2 {  line-height: 1.62em;}.title {  margin: 0 0 2em 0;  line-height: 2em;  border-bottom: 5px solid #0A4C89;  text-align: center;}#postamble {  font-size: 80%;  line-height: 1.4em;  text-align: right;}h1, h2, h3, h4, h5, h6 {  font-family: "Source Sans Pro", sans-serif;  color: #222;}.outline-2 {  margin-bottom: 4em;}.outline-2 h2 {  border-bottom: 1px solid #CCC;}.outline-text-2 code, pre {  background-color: #EEE;}#table-of-contents {  display: none;  margin-left: 0.5em;}#text-table-of-contents ul {  padding-left: 1.8em;}#text-table-of-contents li {  list-style-type: circle;  margin: 0.4em 0;}#text-table-of-contents ul ul {  margin: 0;}#text-table-of-contents li li {  font-weight: normal;  font-size: 90%;  margin: 0;}#content {  overflow: hidden;  *zoom: 1;}/* ==========================================================================   EXAMPLE Media Queries for Responsive Design.   These examples override the primary ('mobile first') styles.   Modify as content requires.   ========================================================================== */@media only screen and (min-width: 35em) {  /* Style adjustments for viewports that meet the condition */}@media print, (-o-min-device-pixel-ratio: 5 / 4), (-webkit-min-device-pixel-ratio: 1.25), (min-resolution: 120dpi) {  /* Style adjustments for high resolution devices */}/* ==========================================================================   Print styles.   Inlined to avoid required HTTP connection: h5bp.com/r   ========================================================================== */@media print {  * {    background: transparent !important;    color: #000 !important;    /* Black prints faster: h5bp.com/s */    box-shadow: none !important;    text-shadow: none !important;  }  a,  a:visited {    text-decoration: underline;  }  a[href]:after {    content: " (" attr(href) ")";  }  abbr[title]:after {    content: " (" attr(title) ")";  }  /*   * Don't show links for images, or javascript/internal links   */  .ir a:after,  a[href^="javascript:"]:after,  a[href^="#"]:after {    content: "";  }  pre,  blockquote {    /* border: 1px solid #999; */    page-break-inside: avoid;  }  thead {    display: table-header-group;    /* h5bp.com/t */  }  tr,  img {    page-break-inside: avoid;  }  img {    max-width: 100% !important;  }  @page {    margin: 0.5cm;  }  p,  h2,  h3 {    orphans: 3;    widows: 3;  }  h2,  h3 {    page-break-after: avoid;  }  #table-of-contents {    display: block;    width: initial;    border: none;  }  #table-of-contents a {    text-decoration: none;  }}/* large screen */@media screen and (min-width: 40rem) {  html {    font-size: 100%;  }  #table-of-contents {    display: block;    padding: 1em;    width: 32%;    min-width: 18em;    float: right;    background-color: #EEE;    position: relative;    /* required by z-index */    z-index: 5000;    border: 1px solid #CCC;  }  .tag {    display: initial;  }}
</style>
<style>*{font-family: arial} div {width: 100%; margin: auto;}</style>
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">INFO 190S / Project / Document Retrieval</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/#orgdec2f8b">1. Overview</a></li>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/#orgc5701b8">2. Scoring</a></li>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/#org2cce5f8">3. Task 1: Create a Python File (20 points)</a></li>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/#orgb466d7f">4. Task 2: Fetch Articles (20 points)</a></li>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/#orgfac1411">5. Task 3: Split the Articles (20 points)</a></li>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/#org2805f62">6. Task 4: Splitting and Scrubbing (25 points)</a>
<ul>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/#orge6cb0de">6.1. split_words (8 points)</a></li>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/#org66fe153">6.2. scrub_word (7 points)</a></li>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/#org7ff0c2d">6.3. scrub_words (10 points)</a></li>
</ul>
</li>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/#org2709bbf">7. Task 5: Building an Article Index (5 points)</a></li>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/#org49cab8a">8. Task 6: Finding Words (5 points)</a></li>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/doc/#org4e7e030">9. Task 7: Writing the Main Conditional (2 points)</a></li>
</ul>
</div>
</nav>

<div id="outline-container-orgdec2f8b" class="outline-2">
<h2 id="orgdec2f8b"><span class="section-number-2">1.</span> Overview</h2>
<div class="outline-text-2" id="text-1">
<p>
We use search engines every day. Indeed, you are likely to use Google
as you do this assignment to search for specifics related to Python
(most certainly not to find the solution). But, how do these search
engines identify documents on the web that are relevant to the words
that you enter into the text box? How is it possible for Google to
respond so quickly to your search words? This project asks you to
implement a <a href="https://en.wikipedia.org/wiki/Document_retrieval">document retrieval</a> program that allows a user to quickly
search for words in a large set of documents.
</p>

<p>
Your program will read in a large set of documents, identify in which
documents each word exists, and allow you to search for words
efficiently in the same way that Google does this for the web. There
are many ways in which this could be done. The approach we are going
to use is to read in a collection of documents, assign each document a
unique identifier, identify each word in the document, and then
associate each word with the document identifier in which it was
found.
</p>

<p>
Here is example input/output of the program you are to implement:
</p>

<pre class="example" id="orga5d47eb">&gt; python search.py https://bityl.co/Fm7v find "dogs cats"
64 114 140
</pre>

<p>
The program requires three arguments. The first argument is the the
URL of the article file to index. The second argument is the
command. In this case, it is <b><b>find</b></b>, which tells the program to search
for the word in the set of documents we read in. The last argument is
the words you would like search for in the documents. The output is
the documents in which the words "dogs cats" both appeared.
</p>

<p>
Below is a diagram of the data structure we need to create to search
documents efficiently. The basic idea is to <b>map</b> each word to the
documents in which the word was found.
</p>

<pre class="example" id="orgc99e0cb">â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”         â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”
        Words                       Documents      
â”‚                   â”‚         â”‚                   â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ â”‚    word 1     â”‚ â”‚         â”‚ â”‚               â”‚ â”‚
  â”‚    word 2     â”‚      â”Œâ”€â”€â”€â”€â”€â–¶â”‚  Document 1   â”‚  
â”‚ â”‚    word 3     â”‚ â”‚    â”‚    â”‚ â”‚               â”‚ â”‚
  â”‚      .        â”‚      â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
â”‚ â”‚      .        â”‚ â”‚    â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
  â”‚      .        â”‚      â”‚      â”‚               â”‚  
â”‚ â”‚      .        â”‚ â”‚    â”œâ”€â”€â”€â”€â”¼â–¶â”‚  Document 2   â”‚ â”‚
  â”‚      .        â”‚      â”‚      â”‚               â”‚  
â”‚ â”‚      .        â”‚ â”‚    â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
  â”‚      .        â”‚      â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ â”‚      .        â”‚ â”‚    â”‚    â”‚ â”‚               â”‚ â”‚
  â”‚      .        â”‚      â”œâ”€â”€â”€â”€â”€â–¶â”‚  Document 3   â”‚  
â”‚ â”‚      .        â”‚ â”‚    â”‚    â”‚ â”‚               â”‚ â”‚
  â”‚      .        â”‚      â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
â”‚ â”‚      .        â”‚â”€â”¼â”€â”€â”€â”€â”¤    â”‚         â”‚         â”‚
  â”‚      .        â”‚      â”‚                         
â”‚ â”‚      .        â”‚ â”‚    â”‚    â”‚         â”‚         â”‚
  â”‚      .        â”‚      â”‚                         
â”‚ â”‚      .        â”‚ â”‚    â”‚    â”‚         â”‚         â”‚
  â”‚      .        â”‚      â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ â”‚      .        â”‚ â”‚    â”‚    â”‚ â”‚               â”‚ â”‚
  â”‚      .        â”‚      â”œâ”€â”€â”€â”€â”€â–¶â”‚  Document n-1 â”‚  
â”‚ â”‚      .        â”‚ â”‚    â”‚    â”‚ â”‚               â”‚ â”‚
  â”‚      .        â”‚      â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
â”‚ â”‚      .        â”‚ â”‚    â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
  â”‚    word k-1   â”‚      â”‚      â”‚               â”‚  
â”‚ â”‚    word k     â”‚ â”‚    â””â”€â”€â”€â”€â”¼â–¶â”‚  Document n   â”‚ â”‚
  â”‚               â”‚             â”‚               â”‚  
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
 â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€           â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ 
</pre>
</div>
</div>

<div id="outline-container-orgc5701b8" class="outline-2">
<h2 id="orgc5701b8"><span class="section-number-2">2.</span> Scoring</h2>
<div class="outline-text-2" id="text-2">
<p>
This project is automatically graded. You will be graded on the
following:
</p>

<table>


<colgroup>
<col class="org-right">

<col class="org-left">

<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Points</th>
<th scope="col" class="org-left">Difficulty</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">10</td>
<td class="org-left">&nbsp;</td>
<td class="org-left">Create the initial python file</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-left">&nbsp;</td>
<td class="org-left">Including the proper imports</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-left">&nbsp;</td>
<td class="org-left">Incoding the proper attributes (punctuation)</td>
</tr>

<tr>
<td class="org-right">20</td>
<td class="org-left">&nbsp;</td>
<td class="org-left">Fetch articles from a URL</td>
</tr>

<tr>
<td class="org-right">20</td>
<td class="org-left">&nbsp;</td>
<td class="org-left">Split the articles into a list</td>
</tr>

<tr>
<td class="org-right">25</td>
<td class="org-left">&nbsp;</td>
<td class="org-left">Split each article into a list of words</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-left">&nbsp;</td>
<td class="org-left">Build an article index</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-left">&nbsp;</td>
<td class="org-left">Find words in the article index</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-left">&nbsp;</td>
<td class="org-left">Write the main conditional</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-left">&nbsp;</td>
<td class="org-left">How complex your code is</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-right">100</td>
<td class="org-left">&nbsp;</td>
<td class="org-left">&nbsp;</td>
</tr>
</tbody>
</table>

<p>
The harder tasks are generally weighted less (but, not always). 
</p>
</div>
</div>

<div id="outline-container-org2cce5f8" class="outline-2">
<h2 id="org2cce5f8"><span class="section-number-2">3.</span> Task 1: Create a Python File (20 points)</h2>
<div class="outline-text-2" id="text-3">
<p>
Your first task is to create a new Python file. Call this file
<b><b>search.py</b></b>. This is where you will add all of your code. At the top
of this file you need to add a comment that includes your name, email,
and spire ID. Here is an example of what you need to add to the top
of your file:
</p>

<div class="org-src-container">
<pre class="src src-python"># Author: Lavenya Flayya
# Email: lflayya@umass.edu
# Spire ID: 12345678
</pre>
</div>

<p>
Yes, 20 points for creating a file and putting your credentials in it ğŸ˜€!
</p>
</div>
</div>

<div id="outline-container-orgb466d7f" class="outline-2">
<h2 id="orgb466d7f"><span class="section-number-2">4.</span> Task 2: Fetch Articles (20 points)</h2>
<div class="outline-text-2" id="text-4">
<p>
The data used by your document retrieval program is a sequence of new
articles, where each article starts with the string <b><b>&lt;NEW ARTICLE&gt;</b></b>
followed by a newline followed by the article content itself. The
general format of the data looks like this:
</p>

<pre class="example" id="orgf3e4ec2">&lt;NEW ARTICLE&gt;
article 1 text
&lt;NEW ARTICLE&gt;
article 2 text
&lt;NEW ARTICLE&gt;
article 3 text
...
</pre>

<p>
We provide two documents containing articles in this format:
</p>

<ul class="org-ul">
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/data/news_wire_articles.txt">Newswire Articles</a> (<a href="https://bityl.co/Fm7v">https://bityl.co/Fm7v</a>): a document containing
several old newswire articles.</li>
<li><a href="https://people.cs.umass.edu/~richards/courses/190s/110-project-document-retrieval/data/test_articles.txt">Test Articles</a> (<a href="https://bityl.co/Fm50">https://bityl.co/Fm50</a>): a document containing short
articles that you can use to test your program.</li>
</ul>

<p>
There are several ways in which we can solve problems. I like to start
with writing small functions that provide building blocks to solve the
larger problem. Our program is going to read in a document from the
web that contains a list of articles that we are going to build a
search engine on. To do this, we need to import a library that is
available in the Python standard library. This library is called
<a href="https://docs.python.org/3/library/urllib.html">urllib</a> and we will use it fetch the documents we need to implement our
solution.
</p>

<p>
First, write the following function skeleton:
</p>

<div class="org-src-container">
<pre class="src src-python">def read_article_file(url):
  # implement me
  pass
</pre>
</div>

<p>
This function is given a URL (link) to a document on the web. It
returns the text of the document that it fetched from the web. You
will need to import the <b><a href="https://docs.python.org/3/library/urllib.request.html#module-urllib.request">urllib.request</a></b> library and use it to fetch the
articles you need for your application. Add this to the top of your
file:
</p>

<div class="org-src-container">
<pre class="src src-python">import urllib.request
</pre>
</div>

<p>
To fetch a file from the web you should use this pattern:
</p>

<div class="org-src-container">
<pre class="src src-python">req = urllib.request.urlopen(url)
text = req.read()
text = text.decode('UTF-8')
return text
</pre>
</div>

<p>
Note, we "decode" the return value from <b><b>req.read()</b></b>. The reason we do
this is because the <b><b>read()</b></b> method returns bytes, not a string. So we
need to convert it into something we can work with.
</p>

<p>
You can easily test to see if your function works by using the Python
interpreter:
</p>

<div class="org-src-container">
<pre class="src src-python">&gt;&gt;&gt; import search
&gt;&gt;&gt; search.read_article_file('https://bityl.co/Flzb')
</pre>
</div>

<p>
This should display a long list of articles to your terminal. If
something goes wrong, review your code to see if you find any
problems. 
</p>
</div>
</div>

<div id="outline-container-orgfac1411" class="outline-2">
<h2 id="orgfac1411"><span class="section-number-2">5.</span> Task 3: Split the Articles (20 points)</h2>
<div class="outline-text-2" id="text-5">
<p>
After you are able to properly fetch the articles from the web, you
need to split the full text into a list of individual articles. Given
the format of the data described in Task 2, write the following
function stub:
</p>

<div class="org-src-container">
<pre class="src src-python">def text_to_article_list(text):
  pass
</pre>
</div>

<p>
This function is given an argument called <b><b>text</b></b>. This argument
references a string containing the text of the article file we fetched
from the web using <b><b>read_article_file</b></b>. Although we could write the
code to iterate over each line in the string and identify the <b><b>&lt;NEW
ARTICLE&gt;</b></b> tags, we are instead going to use a library to do it for
us. This library is called <b><a href="https://docs.python.org/3/library/re.html">re</a></b>. It is short for <b>regular expression</b>. We
will not go into what a regular expression is right now, but it is
certainly something that you will see at a later point in your
computational studies.
</p>

<p>
We can use this library to split the text of articles on the tags that
preceed each article text. After you import the <b><b>re</b></b> library at the
top of your code file, use this code fragment to complete the
<b><b>text_to_article_list</b></b> function:
</p>

<div class="org-src-container">
<pre class="src src-python">re.split('&lt;NEW ARTICLE&gt;', text)
</pre>
</div>

<p>
Your function must return a list of all articles. You can easily test
this function by using the Python shell:
</p>

<div class="org-src-container">
<pre class="src src-python">&gt;&gt;&gt; import search
&gt;&gt;&gt; text = search.read_article_file('https://bityl.co/Fm7v')
&gt;&gt;&gt; search.text_to_article_list(text)
</pre>
</div>

<p>
This should display a list of all the articles. Each entry of this
list will be the text of a single article.
</p>

<p>
If this all works correctly, we now have the articles we need to build
our small search engine.
</p>

<p>
<b><b>Hints:</b></b>
</p>
<ul class="org-ul">
<li>Make sure there are no empty strings in the list of articles.</li>
</ul>
</div>
</div>

<div id="outline-container-org2805f62" class="outline-2">
<h2 id="org2805f62"><span class="section-number-2">6.</span> Task 4: Splitting and Scrubbing (25 points)</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orge6cb0de" class="outline-3">
<h3 id="orge6cb0de"><span class="section-number-3">6.1.</span> split_words (8 points)</h3>
<div class="outline-text-3" id="text-6-1">
<p>
Before we build the data structure we saw at the start of this
document, we will need to implemented a few utility functions. The
first utility function is called <b><b>split_words</b></b>. This one is simple,
given a list of words in a string, return a list of words. Here is an
example of its usage:
</p>

<div class="org-src-container">
<pre class="src src-python">&gt;&gt;&gt; import search
&gt;&gt;&gt; search.split_words('dog cat \n1978\n')
['dog', 'cat', '1978']
</pre>
</div>

<p>
Here is the function stub to start you out:
</p>

<div class="org-src-container">
<pre class="src src-python">def split_words(text):
    pass
</pre>
</div>

<p>
You may find the <a href="https://docs.python.org/3/library/stdtypes.html?highlight=splitlines#str.splitlines">splitlines</a> string method to be particularly useful
for implementing this function. Our suggestion is to iterate over each
line in the given text, then over each word in a line. You need to
figure out how to turn a single string into lines and then into
words. 
</p>
</div>
</div>

<div id="outline-container-org66fe153" class="outline-3">
<h3 id="org66fe153"><span class="section-number-3">6.2.</span> scrub_word (7 points)</h3>
<div class="outline-text-3" id="text-6-2">
<p>
The next function is called <b><b>scrub_word</b></b>. This function takes a word
and removes any punctuation from the beginning and end of the word
(not in the middle). Here is an example of its usage:
</p>

<div class="org-src-container">
<pre class="src src-python">&gt;&gt;&gt; scrub_word(';,;!dog;;,,.')
dog
</pre>
</div>

<p>
You may find the <a href="https://docs.python.org/3/library/stdtypes.html?highlight=strip#str.strip">strip</a> method available on strings to be useful. It is
also helpful to use the <a href="https://docs.python.org/3/library/string.html?highlight=punctuation#string.punctuation">string.punctuation</a> variable that is provided
by the Python standard library:
</p>

<div class="org-src-container">
<pre class="src src-python">&gt;&gt;&gt; import string
&gt;&gt;&gt; string.punctuation
'!"#$%&amp;\'()*+,-./:;&lt;=&gt;?@[\\]^_`{|}~'
</pre>
</div>

<p>
Combinging the two will prove very useful for implementing this
method:
</p>

<div class="org-src-container">
<pre class="src src-python">def scrub_word(text):
    pass
</pre>
</div>
</div>
</div>

<div id="outline-container-org7ff0c2d" class="outline-3">
<h3 id="org7ff0c2d"><span class="section-number-3">6.3.</span> scrub_words (10 points)</h3>
<div class="outline-text-3" id="text-6-3">
<p>
The last utility function, <b><b>scrub_words</b></b>, takes a list of words (as
strings), makes each of them lowercase, then removes all
punctuation. It returns a new list of words that have been
"scrubbed". The process of <b>scrubbing</b> often comes up in computer and
data science in order to translate data into a form that is more
useful. In our case, we want to get rid of the punctuation surrounding
words so we can have a more accurate search. In addition, we want to
eliminate case as we typically do not care of a word is upper or lower
case - we simply want to match our search words. Here is an example of
using this function followed by a skeleton that you need to fill in:
</p>

<div class="org-src-container">
<pre class="src src-python">&gt;&gt;&gt; import search
&gt;&gt;&gt; words = search.split_words('dog, ,cat! !@#$yikes$#@!       ')
&gt;&gt;&gt; words
['dog,', ',cat!', '!@#$yikes$#@!       ']
&gt;&gt;&gt; search.scrub_words(words)
['dog', 'cat', 'yikes']
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python">def scrub_words(words):
    pass
</pre>
</div>

<p>
<b><b>Hint:</b></b>
</p>
<ul class="org-ul">
<li>You want to ignore empty strings</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org2709bbf" class="outline-2">
<h2 id="org2709bbf"><span class="section-number-2">7.</span> Task 5: Building an Article Index (5 points)</h2>
<div class="outline-text-2" id="text-7">
<p>
Now we are at the heart of this assignment. Assuming you were able to
implement all of the above correctly, the next step is to create a
function called <b><b>build_article_index</b></b> that takes a list of articles
and returns a Python dictionary that maps words to a set of articles
the word was found in. Here is an example of its usage:
</p>

<div class="org-src-container">
<pre class="src src-python">&gt;&gt;&gt; import search
&gt;&gt;&gt; text = search.read_article_file('https://bityl.co/Fm50')
&gt;&gt;&gt; articles = search.text_to_article_list(text)
&gt;&gt;&gt; search.build_article_index(articles)
{ 'bright': {1},
  'dark': {2},
  'is': {3},
  'life': {1, 3},
  'look': {1, 2},
  'moon': {2, 3},
  'of': {1, 2},
  'on': {1, 2, 3},
  'side': {1, 2},
  'the': {1, 2, 3},
  'there': {3},
  'very': {2}
}
</pre>
</div>

<p>
Note, that the values in the dictionary are <b>sets</b>, not <b>lists</b>. To
implement this function correctly, you need to use sets instead of
lists. The reason for this will be more clear in the next task. Here
is the skeleton for this function to start you off:
</p>

<div class="org-src-container">
<pre class="src src-python">def build_article_index(article_list):
    article_index = {}
    for (index, article) in enumerate(article_list):
	# Implement me
	pass
    return article_index
</pre>
</div>

<p>
<b><b>Hints</b></b>:
</p>
<ul class="org-ul">
<li>To create a new set you use <b><b>set()</b></b></li>
<li>You need to iterate over all articles and all words</li>
<li>Use the <b><b>split_words</b></b> and <b><b>scrub_words</b></b> functions you created in the
previous task</li>
<li>Make sure to create an empty set for words that are not already in
the article_index</li>
</ul>
</div>
</div>

<div id="outline-container-org49cab8a" class="outline-2">
<h2 id="org49cab8a"><span class="section-number-2">8.</span> Task 6: Finding Words (5 points)</h2>
<div class="outline-text-2" id="text-8">
<p>
Now that we have the machinery in place for building a search index,
we are ready to implement a function called <b><b>find_words</b></b> for finding
words in our index. Here is an example of its usage:
</p>

<div class="org-src-container">
<pre class="src src-python">&gt;&gt;&gt; import search
&gt;&gt;&gt; text = search.read_article_file('https://bityl.co/Fm50')
&gt;&gt;&gt; articles = search.text_to_article_list(text)
&gt;&gt;&gt; index = search.build_article_index(articles)
&gt;&gt;&gt; search.find_words(['life', 'moon'], index)
&gt;&gt;&gt; {3}
</pre>
</div>

<p>
<b><b>find_words</b></b> takes a list of key words and the article index as
arguments. It then returns a set of all the articles in which all of
the key words were found. That is, in the above example article 3
contains both 'life' <b><b>and</b></b> 'moon'. Here is the skeleton code you will
need to fill in:
</p>

<div class="org-src-container">
<pre class="src src-python">def find_words(keywords, index):
    intersect_docs = set()
    # Add you code here!
    return intersect_docs
</pre>
</div>

<p>
<b><b>Hints</b></b>:
</p>
<ul class="org-ul">
<li>You will need to iterate over keywords</li>
<li>Make sure to make each key word lowercase (remember, that is what we
did to create the article index</li>
<li>You will need to use set intersection to intersect each set you find
in the article index for each word. For example, if 'life' was found
in articles {1, 3} and 'moon' was found in {3, 4}, then {1, 3}
intersected with {3, 4} is {3}.</li>
<li>Note that we initialize <b><b>intersect_docs</b></b> with the empty set. What
happens the first time you find a word in the index? Hint: you do
not want to use set intersection here.</li>
<li>What do you do if you do not find a word in the index?</li>
</ul>
</div>
</div>

<div id="outline-container-org4e7e030" class="outline-2">
<h2 id="org4e7e030"><span class="section-number-2">9.</span> Task 7: Writing the Main Conditional (2 points)</h2>
<div class="outline-text-2" id="text-9">
<p>
The last part of this project is to implement the main conditional
which provides an interface for the user to interact with your
program. The program allows the user to run two commands: <b><b>find</b></b> and
<b><b>print</b></b>. Here is an example of the use of <b><b>find</b></b>:
</p>

<pre class="example" id="org6b28405">python search.py https://bityl.co/Fm50 find "life moon"
3

python search.py https://bityl.co/Fm50 find "life"
1 3

python search.py https://bityl.co/Fm7v find "the and or"
3 6 7 9 14 16 17 18 19 22 25 28 30 32 33 34 35 36 40 42 46 53 54 57 59 60 61 62 64 65 67 71
73 76 77 79 80 82 83 84 85 87 92 93 95 97 98 102 103 104 110 112 115 116 117 124 125 127 129
132 133 135 136 137 138 140 141 142 143 145 146 147 153 154 155 156 166 168 172 173 174 175
177 180 181 182 183 184 185 186 193 194 197 199 203 209 215 222 223 225 
</pre>

<p>
As you can see, the <b><b>find</b></b> command finds the articles in which the key
words (given as a quoted string) are located and prints them out on a
single line (make sure you take note of this).
</p>

<p>
Here is an example of <b><b>print</b></b>:
</p>

<pre class="example" id="org235bbbd">python search.py https://bityl.co/Fm50 print 3

is there life
on the moon

python search.py https://bityl.co/Fm7v print 222

In other business and economic news this past week:
_The government said the economy, as measured by the gross
national product, grew at a brisk 4.8 percent annual pace in the
final three months of last year.
_The government reported that in February consumer prices rose
just 0.2 percent, factory orders for durable goods fell 1.8
percent, personal incomes advanced 0.9 percent and spending
increased 0.7 percent.
...

</pre>

<p>
You will need to import the <b><b>sys</b></b> package to get access to the command
line arguments. The first argument is the command (either <b><b>find</b></b> or
<b><b>print</b></b>) and the second argument is either a key word list (as a
string) or an article index. You will need to use the
<b><b>read_article_file</b></b>, <b><b>text_to_article</b></b>, <b><b>build_article_index</b></b>, and
<b><b>find_words</b></b> functions to implement this part correctly. Here is the
starting template:
</p>

<div class="org-src-container">
<pre class="src src-python">if __name__ == '__main__':
  pass
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Tim Richards</p>
<p class="date">Created: 2022-12-07 Wed 23:57</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>


</body></html>